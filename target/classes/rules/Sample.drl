package com.sample
 
import com.sample.MarklinTrain;
import com.sample.Fix;
import java.util.Scanner;


rule "FIX"
    salience 100
    when
       $train:MarklinTrain(hasProblem() == true); 
    then
    	System.out.print("FIX :: " + $train.getFix($train.whereIsTheProblem()));
        	
	retract($train);
end

rule "Acoplador de metal esta dobrado?"
    salience 50
    when
        $t:MarklinTrain(getComponente(0)==-1); 
    then
        Scanner input = new Scanner(System.in);
		System.out.print("O acoplador de metal da locomotiva encontra-se dobrado ?");
		String m = input.nextLine();
        
        if(m.equalsIgnoreCase("sim"))
        	$t.setComponente(0, 1);
		else
			$t.setComponente(0, 0);
			
		update($t);
end

rule "Existe curto circuito entre corpo e fio?"
    salience 50
    when
        $t:MarklinTrain(getComponente(1)==-1); 
    then
        Scanner input = new Scanner(System.in);
		System.out.print("Existe curto circuito entre corpo e fio ?");
		String m = input.nextLine();
        
        if(m.equalsIgnoreCase("sim"))
        	$t.setComponente(1, 1);
		else
			$t.setComponente(1, 0);
			
		update($t);
end

rule "Existe curto circuito entre corpo e ponto de soldadura?"
    salience 50
    when
        $t:MarklinTrain(getComponente(2)==-1); 
    then
        Scanner input = new Scanner(System.in);
		System.out.print("Existe curto circuito entre corpo e ponto de soldadura?");
		String m = input.nextLine();
        
        if(m.equalsIgnoreCase("sim"))
        	$t.setComponente(2, 1);
		else
			$t.setComponente(2, 0);
			
		update($t);
end

rule "Algum fio de luz está a causar curto-circuito?"
    salience 50
    when
        $t:MarklinTrain(getComponente(3)==-1); 
    then
        Scanner input = new Scanner(System.in);
		System.out.print("Algum fio de luz está a causar curto-circuito?");
		String m = input.nextLine();
        
        if(m.equalsIgnoreCase("sim"))
        	$t.setComponente(3, 1);
		else
			$t.setComponente(3, 0);
			
		update($t);
end
